     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdtidt
     7 00000000                                 	EXTERN	_init_pic
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_keyfifo
    10 00000000                                 	EXTERN	_fifo8_init
    11 00000000                                 	EXTERN	_mousefifo
    12 00000000                                 	EXTERN	_init_pit
    13 00000000                                 	EXTERN	_io_out8
    14 00000000                                 	EXTERN	_timer_alloc
    15 00000000                                 	EXTERN	_timer_init
    16 00000000                                 	EXTERN	_timer_settime
    17 00000000                                 	EXTERN	_init_keyboard
    18 00000000                                 	EXTERN	_enable_mouse
    19 00000000                                 	EXTERN	_memtest
    20 00000000                                 	EXTERN	_memman_init
    21 00000000                                 	EXTERN	_memman_free
    22 00000000                                 	EXTERN	_init_palette
    23 00000000                                 	EXTERN	_shtctl_init
    24 00000000                                 	EXTERN	_sheet_alloc
    25 00000000                                 	EXTERN	_memman_alloc_4k
    26 00000000                                 	EXTERN	_sheet_setbuf
    27 00000000                                 	EXTERN	_init_screen8
    28 00000000                                 	EXTERN	_init_mouse_cursor8
    29 00000000                                 	EXTERN	_sheet_slide
    30 00000000                                 	EXTERN	_sheet_updown
    31 00000000                                 	EXTERN	_sprintf
    32 00000000                                 	EXTERN	_memman_total
    33 00000000                                 	EXTERN	_timerctl
    34 00000000                                 	EXTERN	_io_cli
    35 00000000                                 	EXTERN	_fifo8_status
    36 00000000                                 	EXTERN	_fifo8_get
    37 00000000                                 	EXTERN	_boxfill8
    38 00000000                                 	EXTERN	_sheet_refresh
    39 00000000                                 	EXTERN	_mouse_decode
    40 00000000                                 	EXTERN	_putfonts8_asc
    41 00000000                                 [FILE "bootpack.c"]
    42                                          [SECTION .data]
    43 00000000                                 LC0:
    44 00000000 63 6F 75 6E 74 65 72 00         	DB	"counter",0x00
    45 00000008                                 LC1:
    46 00000008 28 25 33 64 2C 20 25 33 64 29   	DB	"(%3d, %3d)",0x00
       00000012 00 
    47 00000013                                 LC2:
    48 00000013 6D 65 6D 6F 72 79 20 25 64 4D   	DB	"memory %dMB   free : %dKB",0x00
       0000001D 42 20 20 20 66 72 65 65 20 3A 
       00000027 20 25 64 4B 42 00 
    49 0000002D                                 LC3:
    50 0000002D 25 30 31 30 64 00               	DB	"%010d",0x00
    51 00000033                                 LC7:
    52 00000033 33 5B 73 65 63 5D 00            	DB	"3[sec]",0x00
    53 0000003A                                 LC6:
    54 0000003A 31 30 5B 73 65 63 5D 00         	DB	"10[sec]",0x00
    55 00000042                                 LC5:
    56 00000042 5B 6C 63 72 20 25 34 64 20 25   	DB	"[lcr %4d %4d]",0x00
       0000004C 34 64 5D 00 
    57 00000050                                 LC4:
    58 00000050 25 30 32 58 00                  	DB	"%02X",0x00
    59                                          [SECTION .text]
    60 00000000                                 	GLOBAL	_HariMain
    61 00000000                                 _HariMain:
    62 00000000 55                              	PUSH	EBP
    63 00000001 89 E5                           	MOV	EBP,ESP
    64 00000003 57                              	PUSH	EDI
    65 00000004 56                              	PUSH	ESI
    66 00000005 53                              	PUSH	EBX
    67 00000006 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
    68 00000009 81 EC 00000228                  	SUB	ESP,552
    69 0000000F E8 [00000000]                   	CALL	_init_gdtidt
    70 00000014 E8 [00000000]                   	CALL	_init_pic
    71 00000019 E8 [00000000]                   	CALL	_io_sti
    72 0000001E 8D 45 84                        	LEA	EAX,DWORD [-124+EBP]
    73 00000021 50                              	PUSH	EAX
    74 00000022 6A 20                           	PUSH	32
    75 00000024 68 [00000000]                   	PUSH	_keyfifo
    76 00000029 E8 [00000000]                   	CALL	_fifo8_init
    77 0000002E 8D 85 FFFFFF04                  	LEA	EAX,DWORD [-252+EBP]
    78 00000034 50                              	PUSH	EAX
    79 00000035 68 00000080                     	PUSH	128
    80 0000003A 68 [00000000]                   	PUSH	_mousefifo
    81 0000003F E8 [00000000]                   	CALL	_fifo8_init
    82 00000044 E8 [00000000]                   	CALL	_init_pit
    83 00000049 68 000000F8                     	PUSH	248
    84 0000004E 6A 21                           	PUSH	33
    85 00000050 E8 [00000000]                   	CALL	_io_out8
    86 00000055 83 C4 20                        	ADD	ESP,32
    87 00000058 68 000000EF                     	PUSH	239
    88 0000005D 68 000000A1                     	PUSH	161
    89 00000062 E8 [00000000]                   	CALL	_io_out8
    90 00000067 8D 85 FFFFFDEC                  	LEA	EAX,DWORD [-532+EBP]
    91 0000006D 50                              	PUSH	EAX
    92 0000006E 6A 08                           	PUSH	8
    93 00000070 56                              	PUSH	ESI
    94 00000071 E8 [00000000]                   	CALL	_fifo8_init
    95 00000076 E8 [00000000]                   	CALL	_timer_alloc
    96 0000007B 6A 0A                           	PUSH	10
    97 0000007D 56                              	PUSH	ESI
    98 0000007E 89 C3                           	MOV	EBX,EAX
    99 00000080 50                              	PUSH	EAX
   100 00000081 E8 [00000000]                   	CALL	_timer_init
   101 00000086 83 C4 20                        	ADD	ESP,32
   102 00000089 68 000003E8                     	PUSH	1000
   103 0000008E 53                              	PUSH	EBX
   104 0000008F E8 [00000000]                   	CALL	_timer_settime
   105 00000094 E8 [00000000]                   	CALL	_timer_alloc
   106 00000099 6A 03                           	PUSH	3
   107 0000009B 56                              	PUSH	ESI
   108 0000009C 89 C3                           	MOV	EBX,EAX
   109 0000009E 50                              	PUSH	EAX
   110 0000009F E8 [00000000]                   	CALL	_timer_init
   111 000000A4 68 0000012C                     	PUSH	300
   112 000000A9 53                              	PUSH	EBX
   113 000000AA E8 [00000000]                   	CALL	_timer_settime
   114 000000AF E8 [00000000]                   	CALL	_timer_alloc
   115 000000B4 6A 01                           	PUSH	1
   116 000000B6 56                              	PUSH	ESI
   117 000000B7 50                              	PUSH	EAX
   118 000000B8 89 85 FFFFFDE8                  	MOV	DWORD [-536+EBP],EAX
   119 000000BE E8 [00000000]                   	CALL	_timer_init
   120 000000C3 83 C4 28                        	ADD	ESP,40
   121 000000C6 6A 32                           	PUSH	50
   122 000000C8 FF B5 FFFFFDE8                  	PUSH	DWORD [-536+EBP]
   123 000000CE E8 [00000000]                   	CALL	_timer_settime
   124 000000D3 E8 [00000000]                   	CALL	_init_keyboard
   125 000000D8 8D 85 FFFFFEF4                  	LEA	EAX,DWORD [-268+EBP]
   126 000000DE 50                              	PUSH	EAX
   127 000000DF E8 [00000000]                   	CALL	_enable_mouse
   128 000000E4 68 BFFFFFFF                     	PUSH	-1073741825
   129 000000E9 68 00400000                     	PUSH	4194304
   130 000000EE E8 [00000000]                   	CALL	_memtest
   131 000000F3 68 003C0000                     	PUSH	3932160
   132 000000F8 89 85 FFFFFDE0                  	MOV	DWORD [-544+EBP],EAX
   133 000000FE E8 [00000000]                   	CALL	_memman_init
   134 00000103 68 0009E000                     	PUSH	647168
   135 00000108 68 00001000                     	PUSH	4096
   136 0000010D 68 003C0000                     	PUSH	3932160
   137 00000112 E8 [00000000]                   	CALL	_memman_free
   138 00000117 8B 85 FFFFFDE0                  	MOV	EAX,DWORD [-544+EBP]
   139 0000011D 83 C4 24                        	ADD	ESP,36
   140 00000120 2D 00400000                     	SUB	EAX,4194304
   141 00000125 50                              	PUSH	EAX
   142 00000126 68 00400000                     	PUSH	4194304
   143 0000012B 68 003C0000                     	PUSH	3932160
   144 00000130 E8 [00000000]                   	CALL	_memman_free
   145 00000135 E8 [00000000]                   	CALL	_init_palette
   146 0000013A 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   147 00000141 50                              	PUSH	EAX
   148 00000142 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   149 00000149 50                              	PUSH	EAX
   150 0000014A FF 35 00000FF8                  	PUSH	DWORD [4088]
   151 00000150 68 003C0000                     	PUSH	3932160
   152 00000155 E8 [00000000]                   	CALL	_shtctl_init
   153 0000015A 89 C3                           	MOV	EBX,EAX
   154 0000015C 50                              	PUSH	EAX
   155 0000015D E8 [00000000]                   	CALL	_sheet_alloc
   156 00000162 83 C4 20                        	ADD	ESP,32
   157 00000165 53                              	PUSH	EBX
   158 00000166 89 85 FFFFFDDC                  	MOV	DWORD [-548+EBP],EAX
   159 0000016C E8 [00000000]                   	CALL	_sheet_alloc
   160 00000171 53                              	PUSH	EBX
   161 00000172 8D 9D FFFFFDF4                  	LEA	EBX,DWORD [-524+EBP]
   162 00000178 89 85 FFFFFDD8                  	MOV	DWORD [-552+EBP],EAX
   163 0000017E E8 [00000000]                   	CALL	_sheet_alloc
   164 00000183 89 C6                           	MOV	ESI,EAX
   165 00000185 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   166 0000018C 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   167 00000193 0F AF C2                        	IMUL	EAX,EDX
   168 00000196 50                              	PUSH	EAX
   169 00000197 68 003C0000                     	PUSH	3932160
   170 0000019C E8 [00000000]                   	CALL	_memman_alloc_4k
   171 000001A1 68 00002080                     	PUSH	8320
   172 000001A6 68 003C0000                     	PUSH	3932160
   173 000001AB 89 85 FFFFFDD4                  	MOV	DWORD [-556+EBP],EAX
   174 000001B1 E8 [00000000]                   	CALL	_memman_alloc_4k
   175 000001B6 6A FF                           	PUSH	-1
   176 000001B8 89 C7                           	MOV	EDI,EAX
   177 000001BA 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   178 000001C1 50                              	PUSH	EAX
   179 000001C2 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   180 000001C9 50                              	PUSH	EAX
   181 000001CA FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   182 000001D0 FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   183 000001D6 E8 [00000000]                   	CALL	_sheet_setbuf
   184 000001DB 83 C4 2C                        	ADD	ESP,44
   185 000001DE 6A 63                           	PUSH	99
   186 000001E0 6A 10                           	PUSH	16
   187 000001E2 6A 10                           	PUSH	16
   188 000001E4 53                              	PUSH	EBX
   189 000001E5 FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   190 000001EB E8 [00000000]                   	CALL	_sheet_setbuf
   191 000001F0 6A FF                           	PUSH	-1
   192 000001F2 6A 34                           	PUSH	52
   193 000001F4 68 000000A0                     	PUSH	160
   194 000001F9 57                              	PUSH	EDI
   195 000001FA 56                              	PUSH	ESI
   196 000001FB E8 [00000000]                   	CALL	_sheet_setbuf
   197 00000200 83 C4 28                        	ADD	ESP,40
   198 00000203 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   199 0000020A 50                              	PUSH	EAX
   200 0000020B 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   201 00000212 50                              	PUSH	EAX
   202 00000213 FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   203 00000219 E8 [00000000]                   	CALL	_init_screen8
   204 0000021E 6A 63                           	PUSH	99
   205 00000220 53                              	PUSH	EBX
   206 00000221 BB 00000002                     	MOV	EBX,2
   207 00000226 E8 [00000000]                   	CALL	_init_mouse_cursor8
   208 0000022B 68 [00000000]                   	PUSH	LC0
   209 00000230 6A 34                           	PUSH	52
   210 00000232 68 000000A0                     	PUSH	160
   211 00000237 57                              	PUSH	EDI
   212 00000238 E8 00000381                     	CALL	_make_window8
   213 0000023D 83 C4 24                        	ADD	ESP,36
   214 00000240 6A 00                           	PUSH	0
   215 00000242 6A 00                           	PUSH	0
   216 00000244 FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   217 0000024A E8 [00000000]                   	CALL	_sheet_slide
   218 0000024F 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   219 00000256 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
   220 00000259 89 C8                           	MOV	EAX,ECX
   221 0000025B 99                              	CDQ
   222 0000025C F7 FB                           	IDIV	EBX
   223 0000025E 89 85 FFFFFDE4                  	MOV	DWORD [-540+EBP],EAX
   224 00000264 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   225 0000026B 8D 48 D4                        	LEA	ECX,DWORD [-44+EAX]
   226 0000026E 89 C8                           	MOV	EAX,ECX
   227 00000270 99                              	CDQ
   228 00000271 F7 FB                           	IDIV	EBX
   229 00000273 50                              	PUSH	EAX
   230 00000274 89 C7                           	MOV	EDI,EAX
   231 00000276 FF B5 FFFFFDE4                  	PUSH	DWORD [-540+EBP]
   232 0000027C FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   233 00000282 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   234 00000285 E8 [00000000]                   	CALL	_sheet_slide
   235 0000028A 6A 48                           	PUSH	72
   236 0000028C 6A 50                           	PUSH	80
   237 0000028E 56                              	PUSH	ESI
   238 0000028F E8 [00000000]                   	CALL	_sheet_slide
   239 00000294 83 C4 24                        	ADD	ESP,36
   240 00000297 6A 00                           	PUSH	0
   241 00000299 FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   242 0000029F E8 [00000000]                   	CALL	_sheet_updown
   243 000002A4 6A 01                           	PUSH	1
   244 000002A6 56                              	PUSH	ESI
   245 000002A7 E8 [00000000]                   	CALL	_sheet_updown
   246 000002AC 6A 02                           	PUSH	2
   247 000002AE FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   248 000002B4 E8 [00000000]                   	CALL	_sheet_updown
   249 000002B9 57                              	PUSH	EDI
   250 000002BA FF B5 FFFFFDE4                  	PUSH	DWORD [-540+EBP]
   251 000002C0 68 [00000008]                   	PUSH	LC1
   252 000002C5 53                              	PUSH	EBX
   253 000002C6 E8 [00000000]                   	CALL	_sprintf
   254 000002CB 83 C4 28                        	ADD	ESP,40
   255 000002CE 6A 0A                           	PUSH	10
   256 000002D0 53                              	PUSH	EBX
   257 000002D1 6A 0E                           	PUSH	14
   258 000002D3 6A 07                           	PUSH	7
   259 000002D5 6A 00                           	PUSH	0
   260 000002D7 6A 00                           	PUSH	0
   261 000002D9 FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   262 000002DF E8 00000446                     	CALL	_putfonts8_asc_sht
   263 000002E4 68 003C0000                     	PUSH	3932160
   264 000002E9 E8 [00000000]                   	CALL	_memman_total
   265 000002EE C1 AD FFFFFDE0 14               	SHR	DWORD [-544+EBP],20
   266 000002F5 C1 E8 0A                        	SHR	EAX,10
   267 000002F8 89 04 24                        	MOV	DWORD [ESP],EAX
   268 000002FB FF B5 FFFFFDE0                  	PUSH	DWORD [-544+EBP]
   269 00000301 68 [00000013]                   	PUSH	LC2
   270 00000306 53                              	PUSH	EBX
   271 00000307 E8 [00000000]                   	CALL	_sprintf
   272 0000030C 83 C4 2C                        	ADD	ESP,44
   273 0000030F 6A 28                           	PUSH	40
   274 00000311 53                              	PUSH	EBX
   275 00000312 6A 0E                           	PUSH	14
   276 00000314 6A 07                           	PUSH	7
   277 00000316 6A 20                           	PUSH	32
   278 00000318                                 L27:
   279 00000318 6A 00                           	PUSH	0
   280 0000031A FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   281 00000320 E8 00000405                     	CALL	_putfonts8_asc_sht
   282 00000325                                 L26:
   283 00000325 83 C4 1C                        	ADD	ESP,28
   284 00000328                                 L2:
   285 00000328 FF 35 [00000000]                	PUSH	DWORD [_timerctl]
   286 0000032E 68 [0000002D]                   	PUSH	LC3
   287 00000333 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   288 00000336 53                              	PUSH	EBX
   289 00000337 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
   290 0000033A E8 [00000000]                   	CALL	_sprintf
   291 0000033F E8 [00000000]                   	CALL	_io_cli
   292 00000344 68 [00000000]                   	PUSH	_keyfifo
   293 00000349 E8 [00000000]                   	CALL	_fifo8_status
   294 0000034E 68 [00000000]                   	PUSH	_mousefifo
   295 00000353 89 C3                           	MOV	EBX,EAX
   296 00000355 E8 [00000000]                   	CALL	_fifo8_status
   297 0000035A 56                              	PUSH	ESI
   298 0000035B 01 C3                           	ADD	EBX,EAX
   299 0000035D E8 [00000000]                   	CALL	_fifo8_status
   300 00000362 83 C4 18                        	ADD	ESP,24
   301 00000365 8D 04 18                        	LEA	EAX,DWORD [EAX+EBX*1]
   302 00000368 85 C0                           	TEST	EAX,EAX
   303 0000036A 0F 84 00000244                  	JE	L29
   304 00000370 68 [00000000]                   	PUSH	_keyfifo
   305 00000375 E8 [00000000]                   	CALL	_fifo8_status
   306 0000037A 5B                              	POP	EBX
   307 0000037B 85 C0                           	TEST	EAX,EAX
   308 0000037D 0F 85 000001F0                  	JNE	L30
   309 00000383 68 [00000000]                   	PUSH	_mousefifo
   310 00000388 E8 [00000000]                   	CALL	_fifo8_status
   311 0000038D 59                              	POP	ECX
   312 0000038E 85 C0                           	TEST	EAX,EAX
   313 00000390 0F 85 000000BC                  	JNE	L31
   314 00000396 56                              	PUSH	ESI
   315 00000397 E8 [00000000]                   	CALL	_fifo8_status
   316 0000039C 5A                              	POP	EDX
   317 0000039D 85 C0                           	TEST	EAX,EAX
   318 0000039F 74 87                           	JE	L2
   319 000003A1 56                              	PUSH	ESI
   320 000003A2 E8 [00000000]                   	CALL	_fifo8_get
   321 000003A7 89 C3                           	MOV	EBX,EAX
   322 000003A9 E8 [00000000]                   	CALL	_io_sti
   323 000003AE 58                              	POP	EAX
   324 000003AF 83 FB 0A                        	CMP	EBX,10
   325 000003B2 0F 84 00000088                  	JE	L32
   326 000003B8 83 FB 03                        	CMP	EBX,3
   327 000003BB 74 71                           	JE	L33
   328 000003BD 85 DB                           	TEST	EBX,EBX
   329 000003BF 74 53                           	JE	L24
   330 000003C1 6A 00                           	PUSH	0
   331 000003C3 56                              	PUSH	ESI
   332 000003C4 FF B5 FFFFFDE8                  	PUSH	DWORD [-536+EBP]
   333 000003CA E8 [00000000]                   	CALL	_timer_init
   334 000003CF 6A 6F                           	PUSH	111
   335 000003D1 6A 0F                           	PUSH	15
   336 000003D3 6A 60                           	PUSH	96
   337 000003D5 6A 08                           	PUSH	8
   338 000003D7 6A 07                           	PUSH	7
   339 000003D9                                 L28:
   340 000003D9 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   341 000003E0 50                              	PUSH	EAX
   342 000003E1 FF B5 FFFFFDD4                  	PUSH	DWORD [-556+EBP]
   343 000003E7 E8 [00000000]                   	CALL	_boxfill8
   344 000003EC 83 C4 28                        	ADD	ESP,40
   345 000003EF 6A 32                           	PUSH	50
   346 000003F1 FF B5 FFFFFDE8                  	PUSH	DWORD [-536+EBP]
   347 000003F7 E8 [00000000]                   	CALL	_timer_settime
   348 000003FC 6A 70                           	PUSH	112
   349 000003FE 6A 10                           	PUSH	16
   350 00000400 6A 60                           	PUSH	96
   351 00000402 6A 08                           	PUSH	8
   352 00000404 FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   353 0000040A E8 [00000000]                   	CALL	_sheet_refresh
   354 0000040F E9 FFFFFF11                     	JMP	L26
   355 00000414                                 L24:
   356 00000414 6A 01                           	PUSH	1
   357 00000416 56                              	PUSH	ESI
   358 00000417 FF B5 FFFFFDE8                  	PUSH	DWORD [-536+EBP]
   359 0000041D E8 [00000000]                   	CALL	_timer_init
   360 00000422 6A 6F                           	PUSH	111
   361 00000424 6A 0F                           	PUSH	15
   362 00000426 6A 60                           	PUSH	96
   363 00000428 6A 08                           	PUSH	8
   364 0000042A 6A 0E                           	PUSH	14
   365 0000042C EB AB                           	JMP	L28
   366 0000042E                                 L33:
   367 0000042E 6A 06                           	PUSH	6
   368 00000430 68 [00000033]                   	PUSH	LC7
   369 00000435 6A 0E                           	PUSH	14
   370 00000437 6A 07                           	PUSH	7
   371 00000439 6A 50                           	PUSH	80
   372 0000043B E9 FFFFFED8                     	JMP	L27
   373 00000440                                 L32:
   374 00000440 6A 07                           	PUSH	7
   375 00000442 68 [0000003A]                   	PUSH	LC6
   376 00000447 6A 0E                           	PUSH	14
   377 00000449 6A 07                           	PUSH	7
   378 0000044B 6A 40                           	PUSH	64
   379 0000044D E9 FFFFFEC6                     	JMP	L27
   380 00000452                                 L31:
   381 00000452 68 [00000000]                   	PUSH	_mousefifo
   382 00000457 E8 [00000000]                   	CALL	_fifo8_get
   383 0000045C 89 C3                           	MOV	EBX,EAX
   384 0000045E E8 [00000000]                   	CALL	_io_sti
   385 00000463 0F B6 C3                        	MOVZX	EAX,BL
   386 00000466 50                              	PUSH	EAX
   387 00000467 8D 85 FFFFFEF4                  	LEA	EAX,DWORD [-268+EBP]
   388 0000046D 50                              	PUSH	EAX
   389 0000046E E8 [00000000]                   	CALL	_mouse_decode
   390 00000473 83 C4 0C                        	ADD	ESP,12
   391 00000476 85 C0                           	TEST	EAX,EAX
   392 00000478 0F 84 FFFFFEAA                  	JE	L2
   393 0000047E FF B5 FFFFFEFC                  	PUSH	DWORD [-260+EBP]
   394 00000484 FF B5 FFFFFEF8                  	PUSH	DWORD [-264+EBP]
   395 0000048A 68 [00000042]                   	PUSH	LC5
   396 0000048F 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   397 00000492 53                              	PUSH	EBX
   398 00000493 E8 [00000000]                   	CALL	_sprintf
   399 00000498 83 C4 10                        	ADD	ESP,16
   400 0000049B 8B 85 FFFFFF00                  	MOV	EAX,DWORD [-256+EBP]
   401 000004A1 A9 00000001                     	TEST	EAX,1
   402 000004A6 74 04                           	JE	L11
   403 000004A8 C6 45 A5 4C                     	MOV	BYTE [-91+EBP],76
   404 000004AC                                 L11:
   405 000004AC A9 00000002                     	TEST	EAX,2
   406 000004B1 74 04                           	JE	L12
   407 000004B3 C6 45 A7 52                     	MOV	BYTE [-89+EBP],82
   408 000004B7                                 L12:
   409 000004B7 83 E0 04                        	AND	EAX,4
   410 000004BA 74 04                           	JE	L13
   411 000004BC C6 45 A6 43                     	MOV	BYTE [-90+EBP],67
   412 000004C0                                 L13:
   413 000004C0 6A 0F                           	PUSH	15
   414 000004C2 8D 45 A4                        	LEA	EAX,DWORD [-92+EBP]
   415 000004C5 50                              	PUSH	EAX
   416 000004C6 6A 0E                           	PUSH	14
   417 000004C8 6A 07                           	PUSH	7
   418 000004CA 6A 10                           	PUSH	16
   419 000004CC 6A 20                           	PUSH	32
   420 000004CE FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   421 000004D4 E8 00000251                     	CALL	_putfonts8_asc_sht
   422 000004D9 8B 95 FFFFFEF8                  	MOV	EDX,DWORD [-264+EBP]
   423 000004DF 03 BD FFFFFEFC                  	ADD	EDI,DWORD [-260+EBP]
   424 000004E5 83 C4 1C                        	ADD	ESP,28
   425 000004E8 01 95 FFFFFDE4                  	ADD	DWORD [-540+EBP],EDX
   426 000004EE 78 74                           	JS	L34
   427 000004F0                                 L14:
   428 000004F0 85 FF                           	TEST	EDI,EDI
   429 000004F2 78 6C                           	JS	L35
   430 000004F4                                 L15:
   431 000004F4 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   432 000004FB 48                              	DEC	EAX
   433 000004FC 39 85 FFFFFDE4                  	CMP	DWORD [-540+EBP],EAX
   434 00000502 7E 06                           	JLE	L16
   435 00000504 89 85 FFFFFDE4                  	MOV	DWORD [-540+EBP],EAX
   436 0000050A                                 L16:
   437 0000050A 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   438 00000511 48                              	DEC	EAX
   439 00000512 39 C7                           	CMP	EDI,EAX
   440 00000514 7E 02                           	JLE	L17
   441 00000516 89 C7                           	MOV	EDI,EAX
   442 00000518                                 L17:
   443 00000518 57                              	PUSH	EDI
   444 00000519 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   445 0000051C FF B5 FFFFFDE4                  	PUSH	DWORD [-540+EBP]
   446 00000522 68 [00000008]                   	PUSH	LC1
   447 00000527 53                              	PUSH	EBX
   448 00000528 E8 [00000000]                   	CALL	_sprintf
   449 0000052D 6A 0A                           	PUSH	10
   450 0000052F 53                              	PUSH	EBX
   451 00000530 6A 0E                           	PUSH	14
   452 00000532 6A 07                           	PUSH	7
   453 00000534 6A 00                           	PUSH	0
   454 00000536 6A 00                           	PUSH	0
   455 00000538 FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   456 0000053E E8 000001E7                     	CALL	_putfonts8_asc_sht
   457 00000543 83 C4 2C                        	ADD	ESP,44
   458 00000546 57                              	PUSH	EDI
   459 00000547 FF B5 FFFFFDE4                  	PUSH	DWORD [-540+EBP]
   460 0000054D FF B5 FFFFFDD8                  	PUSH	DWORD [-552+EBP]
   461 00000553 E8 [00000000]                   	CALL	_sheet_slide
   462 00000558 83 C4 0C                        	ADD	ESP,12
   463 0000055B E9 FFFFFDC8                     	JMP	L2
   464 00000560                                 L35:
   465 00000560 31 FF                           	XOR	EDI,EDI
   466 00000562 EB 90                           	JMP	L15
   467 00000564                                 L34:
   468 00000564 C7 85 FFFFFDE4 00000000         	MOV	DWORD [-540+EBP],0
   469 0000056E E9 FFFFFF7D                     	JMP	L14
   470 00000573                                 L30:
   471 00000573 68 [00000000]                   	PUSH	_keyfifo
   472 00000578 E8 [00000000]                   	CALL	_fifo8_get
   473 0000057D 89 C3                           	MOV	EBX,EAX
   474 0000057F E8 [00000000]                   	CALL	_io_sti
   475 00000584 53                              	PUSH	EBX
   476 00000585 8D 45 A4                        	LEA	EAX,DWORD [-92+EBP]
   477 00000588 68 [00000050]                   	PUSH	LC4
   478 0000058D 50                              	PUSH	EAX
   479 0000058E E8 [00000000]                   	CALL	_sprintf
   480 00000593 8D 55 A4                        	LEA	EDX,DWORD [-92+EBP]
   481 00000596 6A 02                           	PUSH	2
   482 00000598 52                              	PUSH	EDX
   483 00000599 6A 0E                           	PUSH	14
   484 0000059B 6A 07                           	PUSH	7
   485 0000059D 6A 10                           	PUSH	16
   486 0000059F 6A 00                           	PUSH	0
   487 000005A1 FF B5 FFFFFDDC                  	PUSH	DWORD [-548+EBP]
   488 000005A7 E8 0000017E                     	CALL	_putfonts8_asc_sht
   489 000005AC 83 C4 2C                        	ADD	ESP,44
   490 000005AF E9 FFFFFD74                     	JMP	L2
   491 000005B4                                 L29:
   492 000005B4 E8 [00000000]                   	CALL	_io_sti
   493 000005B9 E9 FFFFFD6A                     	JMP	L2
   494                                          [SECTION .data]
   495 00000055                                 _closebtn.0:
   496 00000055 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOOO@"
       0000005F 4F 4F 4F 4F 4F 40 
   497 00000065 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000006F 51 51 51 51 24 40 
   498 00000075 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000007F 51 51 51 51 24 40 
   499 00000085 4F 51 51 51 40 40 51 51 51 51   	DB	"OQQQ@@QQQQ@@QQ$@"
       0000008F 40 40 51 51 24 40 
   500 00000095 4F 51 51 51 51 40 40 51 51 40   	DB	"OQQQQ@@QQ@@QQQ$@"
       0000009F 40 51 51 51 24 40 
   501 000000A5 4F 51 51 51 51 51 40 40 40 40   	DB	"OQQQQQ@@@@QQQQ$@"
       000000AF 51 51 51 51 24 40 
   502 000000B5 4F 51 51 51 51 51 51 40 40 51   	DB	"OQQQQQQ@@QQQQQ$@"
       000000BF 51 51 51 51 24 40 
   503 000000C5 4F 51 51 51 51 51 40 40 40 40   	DB	"OQQQQQ@@@@QQQQ$@"
       000000CF 51 51 51 51 24 40 
   504 000000D5 4F 51 51 51 51 40 40 51 51 40   	DB	"OQQQQ@@QQ@@QQQ$@"
       000000DF 40 51 51 51 24 40 
   505 000000E5 4F 51 51 51 40 40 51 51 51 51   	DB	"OQQQ@@QQQQ@@QQ$@"
       000000EF 40 40 51 51 24 40 
   506 000000F5 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       000000FF 51 51 51 51 24 40 
   507 00000105 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000010F 51 51 51 51 24 40 
   508 00000115 4F 24 24 24 24 24 24 24 24 24   	DB	"O$$$$$$$$$$$$$$@"
       0000011F 24 24 24 24 24 40 
   509 00000125 40 40 40 40 40 40 40 40 40 40   	DB	"@@@@@@@@@@@@@@@@"
       0000012F 40 40 40 40 40 40 
   510                                          [SECTION .text]
   511 000005BE                                 	GLOBAL	_make_window8
   512 000005BE                                 _make_window8:
   513 000005BE 55                              	PUSH	EBP
   514 000005BF 89 E5                           	MOV	EBP,ESP
   515 000005C1 57                              	PUSH	EDI
   516 000005C2 56                              	PUSH	ESI
   517 000005C3 53                              	PUSH	EBX
   518 000005C4 83 EC 14                        	SUB	ESP,20
   519 000005C7 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   520 000005CA 6A 00                           	PUSH	0
   521 000005CC 8D 43 FF                        	LEA	EAX,DWORD [-1+EBX]
   522 000005CF 8D 7B FE                        	LEA	EDI,DWORD [-2+EBX]
   523 000005D2 50                              	PUSH	EAX
   524 000005D3 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   525 000005D6 6A 00                           	PUSH	0
   526 000005D8 6A 00                           	PUSH	0
   527 000005DA 6A 08                           	PUSH	8
   528 000005DC 53                              	PUSH	EBX
   529 000005DD FF 75 08                        	PUSH	DWORD [8+EBP]
   530 000005E0 E8 [00000000]                   	CALL	_boxfill8
   531 000005E5 6A 01                           	PUSH	1
   532 000005E7 57                              	PUSH	EDI
   533 000005E8 6A 01                           	PUSH	1
   534 000005EA 6A 01                           	PUSH	1
   535 000005EC 6A 07                           	PUSH	7
   536 000005EE 53                              	PUSH	EBX
   537 000005EF FF 75 08                        	PUSH	DWORD [8+EBP]
   538 000005F2 E8 [00000000]                   	CALL	_boxfill8
   539 000005F7 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   540 000005FA 83 C4 38                        	ADD	ESP,56
   541 000005FD 4A                              	DEC	EDX
   542 000005FE 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
   543 00000601 52                              	PUSH	EDX
   544 00000602 6A 00                           	PUSH	0
   545 00000604 6A 00                           	PUSH	0
   546 00000606 6A 00                           	PUSH	0
   547 00000608 6A 08                           	PUSH	8
   548 0000060A 53                              	PUSH	EBX
   549 0000060B FF 75 08                        	PUSH	DWORD [8+EBP]
   550 0000060E E8 [00000000]                   	CALL	_boxfill8
   551 00000613 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   552 00000616 83 EE 02                        	SUB	ESI,2
   553 00000619 56                              	PUSH	ESI
   554 0000061A 6A 01                           	PUSH	1
   555 0000061C 6A 01                           	PUSH	1
   556 0000061E 6A 01                           	PUSH	1
   557 00000620 6A 07                           	PUSH	7
   558 00000622 53                              	PUSH	EBX
   559 00000623 FF 75 08                        	PUSH	DWORD [8+EBP]
   560 00000626 E8 [00000000]                   	CALL	_boxfill8
   561 0000062B 83 C4 38                        	ADD	ESP,56
   562 0000062E 56                              	PUSH	ESI
   563 0000062F 57                              	PUSH	EDI
   564 00000630 6A 01                           	PUSH	1
   565 00000632 57                              	PUSH	EDI
   566 00000633 6A 0F                           	PUSH	15
   567 00000635 53                              	PUSH	EBX
   568 00000636 FF 75 08                        	PUSH	DWORD [8+EBP]
   569 00000639 E8 [00000000]                   	CALL	_boxfill8
   570 0000063E FF 75 E8                        	PUSH	DWORD [-24+EBP]
   571 00000641 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   572 00000644 6A 00                           	PUSH	0
   573 00000646 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   574 00000649 6A 00                           	PUSH	0
   575 0000064B 53                              	PUSH	EBX
   576 0000064C FF 75 08                        	PUSH	DWORD [8+EBP]
   577 0000064F E8 [00000000]                   	CALL	_boxfill8
   578 00000654 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   579 00000657 83 C4 38                        	ADD	ESP,56
   580 0000065A 83 E8 03                        	SUB	EAX,3
   581 0000065D 50                              	PUSH	EAX
   582 0000065E 8D 43 FD                        	LEA	EAX,DWORD [-3+EBX]
   583 00000661 50                              	PUSH	EAX
   584 00000662 6A 02                           	PUSH	2
   585 00000664 6A 02                           	PUSH	2
   586 00000666 6A 08                           	PUSH	8
   587 00000668 53                              	PUSH	EBX
   588 00000669 FF 75 08                        	PUSH	DWORD [8+EBP]
   589 0000066C E8 [00000000]                   	CALL	_boxfill8
   590 00000671 8D 43 FC                        	LEA	EAX,DWORD [-4+EBX]
   591 00000674 6A 14                           	PUSH	20
   592 00000676 50                              	PUSH	EAX
   593 00000677 6A 03                           	PUSH	3
   594 00000679 6A 03                           	PUSH	3
   595 0000067B 6A 0C                           	PUSH	12
   596 0000067D 53                              	PUSH	EBX
   597 0000067E FF 75 08                        	PUSH	DWORD [8+EBP]
   598 00000681 E8 [00000000]                   	CALL	_boxfill8
   599 00000686 83 C4 38                        	ADD	ESP,56
   600 00000689 56                              	PUSH	ESI
   601 0000068A 57                              	PUSH	EDI
   602 0000068B 56                              	PUSH	ESI
   603 0000068C 6A 01                           	PUSH	1
   604 0000068E 6A 0F                           	PUSH	15
   605 00000690 53                              	PUSH	EBX
   606 00000691 FF 75 08                        	PUSH	DWORD [8+EBP]
   607 00000694 E8 [00000000]                   	CALL	_boxfill8
   608 00000699 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   609 0000069C FF 75 EC                        	PUSH	DWORD [-20+EBP]
   610 0000069F FF 75 E8                        	PUSH	DWORD [-24+EBP]
   611 000006A2 6A 00                           	PUSH	0
   612 000006A4 6A 00                           	PUSH	0
   613 000006A6 6B F3 05                        	IMUL	ESI,EBX,5
   614 000006A9 53                              	PUSH	EBX
   615 000006AA FF 75 08                        	PUSH	DWORD [8+EBP]
   616 000006AD E8 [00000000]                   	CALL	_boxfill8
   617 000006B2 83 C4 38                        	ADD	ESP,56
   618 000006B5 FF 75 14                        	PUSH	DWORD [20+EBP]
   619 000006B8 6A 07                           	PUSH	7
   620 000006BA 6A 04                           	PUSH	4
   621 000006BC 6A 18                           	PUSH	24
   622 000006BE 53                              	PUSH	EBX
   623 000006BF FF 75 08                        	PUSH	DWORD [8+EBP]
   624 000006C2 E8 [00000000]                   	CALL	_putfonts8_asc
   625 000006C7 83 C4 18                        	ADD	ESP,24
   626 000006CA C7 45 F0 00000000               	MOV	DWORD [-16+EBP],0
   627 000006D1 C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   628 000006D8                                 L52:
   629 000006D8 8D 04 1E                        	LEA	EAX,DWORD [ESI+EBX*1]
   630 000006DB 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   631 000006DE 31 FF                           	XOR	EDI,EDI
   632 000006E0 8D 4C 02 EB                     	LEA	ECX,DWORD [-21+EDX+EAX*1]
   633 000006E4                                 L51:
   634 000006E4 8B 45 E0                        	MOV	EAX,DWORD [-32+EBP]
   635 000006E7 8A 94 07 [00000055]             	MOV	DL,BYTE [_closebtn.0+EDI+EAX*1]
   636 000006EE 80 FA 40                        	CMP	DL,64
   637 000006F1 74 33                           	JE	L57
   638 000006F3 80 FA 24                        	CMP	DL,36
   639 000006F6 74 2A                           	JE	L58
   640 000006F8 80 FA 51                        	CMP	DL,81
   641 000006FB B2 08                           	MOV	DL,8
   642 000006FD 0F 95 C0                        	SETNE	AL
   643 00000700 28 C2                           	SUB	DL,AL
   644 00000702                                 L46:
   645 00000702 47                              	INC	EDI
   646 00000703 88 11                           	MOV	BYTE [ECX],DL
   647 00000705 41                              	INC	ECX
   648 00000706 83 FF 0F                        	CMP	EDI,15
   649 00000709 7E D9                           	JLE	L51
   650 0000070B FF 45 F0                        	INC	DWORD [-16+EBP]
   651 0000070E 01 DE                           	ADD	ESI,EBX
   652 00000710 83 45 E0 10                     	ADD	DWORD [-32+EBP],16
   653 00000714 83 7D F0 0D                     	CMP	DWORD [-16+EBP],13
   654 00000718 7E BE                           	JLE	L52
   655 0000071A 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   656 0000071D 5B                              	POP	EBX
   657 0000071E 5E                              	POP	ESI
   658 0000071F 5F                              	POP	EDI
   659 00000720 5D                              	POP	EBP
   660 00000721 C3                              	RET
   661 00000722                                 L58:
   662 00000722 B2 0F                           	MOV	DL,15
   663 00000724 EB DC                           	JMP	L46
   664 00000726                                 L57:
   665 00000726 31 D2                           	XOR	EDX,EDX
   666 00000728 EB D8                           	JMP	L46
   667 0000072A                                 	GLOBAL	_putfonts8_asc_sht
   668 0000072A                                 _putfonts8_asc_sht:
   669 0000072A 55                              	PUSH	EBP
   670 0000072B 89 E5                           	MOV	EBP,ESP
   671 0000072D 57                              	PUSH	EDI
   672 0000072E 56                              	PUSH	ESI
   673 0000072F 53                              	PUSH	EBX
   674 00000730 83 EC 0C                        	SUB	ESP,12
   675 00000733 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   676 00000736 8B 7D 10                        	MOV	EDI,DWORD [16+EBP]
   677 00000739 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   678 0000073C 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
   679 0000073F 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   680 00000742 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   681 00000745 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   682 00000748 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   683 0000074B 8D 47 0F                        	LEA	EAX,DWORD [15+EDI]
   684 0000074E 50                              	PUSH	EAX
   685 0000074F 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   686 00000752 8B 75 20                        	MOV	ESI,DWORD [32+EBP]
   687 00000755 0F BE DB                        	MOVSX	EBX,BL
   688 00000758 8D 34 F0                        	LEA	ESI,DWORD [EAX+ESI*8]
   689 0000075B 8D 46 FF                        	LEA	EAX,DWORD [-1+ESI]
   690 0000075E 50                              	PUSH	EAX
   691 0000075F 57                              	PUSH	EDI
   692 00000760 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   693 00000763 0F B6 45 18                     	MOVZX	EAX,BYTE [24+EBP]
   694 00000767 50                              	PUSH	EAX
   695 00000768 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   696 0000076B FF 70 04                        	PUSH	DWORD [4+EAX]
   697 0000076E FF 30                           	PUSH	DWORD [EAX]
   698 00000770 E8 [00000000]                   	CALL	_boxfill8
   699 00000775 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   700 00000778 53                              	PUSH	EBX
   701 00000779 57                              	PUSH	EDI
   702 0000077A FF 75 EC                        	PUSH	DWORD [-20+EBP]
   703 0000077D 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   704 00000780 FF 70 04                        	PUSH	DWORD [4+EAX]
   705 00000783 FF 30                           	PUSH	DWORD [EAX]
   706 00000785 E8 [00000000]                   	CALL	_putfonts8_asc
   707 0000078A 89 7D 10                        	MOV	DWORD [16+EBP],EDI
   708 0000078D 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   709 00000790 89 75 14                        	MOV	DWORD [20+EBP],ESI
   710 00000793 89 45 18                        	MOV	DWORD [24+EBP],EAX
   711 00000796 83 C4 34                        	ADD	ESP,52
   712 00000799 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   713 0000079C 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   714 0000079F 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   715 000007A2 89 45 08                        	MOV	DWORD [8+EBP],EAX
   716 000007A5 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   717 000007A8 5B                              	POP	EBX
   718 000007A9 5E                              	POP	ESI
   719 000007AA 5F                              	POP	EDI
   720 000007AB 5D                              	POP	EBP
   721 000007AC E9 [00000000]                   	JMP	_sheet_refresh
